## 单例模式：如何创建单一对象优化系统性能
- 什么是单例模式
- 饿汉模式
- 懒汉模式
- 通过内部类实现
- 总结

***

### 什么是单例模式？
单例模式：就是一个类最多仅能创建一个实例，并且提供一个访问它的全局访问点。

##### 单例模式的三个基本要点：
- 一是这个类只能有一个实例
- 二是它必须自行创建这个实例；
- 三是它必须自行向整个系统提供这个实例

结合这三点，我们来实现一个简单的单例：**（所有的变量方法、构造方法都是 由static修饰的）**
```java
//饿汉模式
public final class Singleton{
    private static Singleton instance = new Singleton();//自行创建实例
    private Singleton(){}//构造函数
    public static Singleton getInstance(){
        return instance；
    }
}
```
由于在一个系统中，一个类经常会被使用在不同的地方，**通过单例模式，我们可以避免创建多个实例，从而节约系统资源。**

### 饿汉模式
我们可以发现，以上第一种实现单例的代码中，使用static修饰了成员变量instance，所以该变量会在类苏实话的过程中收集进类构造器（不要误解为构造方法）即<clinit>。在多线程场景下会保证只有线程能执行该类的<clinit>方法，其它线程将会被阻塞等待。

等待唯一的一次<clinit>方法执行完成，其他线程将不会再执行<clinit>方法，转而执行自己的代码。也就是说，static修饰了成员变量instance,在多线程的情况下保证只实例化一次。

    这种方式实现的单例模式，在类加载阶段就已经在堆内存中开辟了一块内存，用于存放实例化对象，所以也称为饿汉模式。

    饿汉模式实现的单例的优点是，可以保证多线程情况下实例的唯一性，而且 getInstance 直接返回唯一实例，性能非常高。

然而，在类成员变量比较多，或变量比较大的情况下，这种模式可能会在没有使用类对象的情况下，一直占用堆内存。试想下，如果一个第三方开源框架中的类都是基于饿汉模式实现的单例，这将会初始化所有单例类，无疑是灾难性的。

### 懒汉模式
懒汉模式是为了避免直接加载类对象时提前创建对象的一种单例设计模式。该模式使用懒加载方式。


